それぞれの手法について、概要と手順を詳しく説明します。

### 1. Cannyエッジ検出 + テクスチャ検出

**概要：**
- 画像の輪郭（エッジ）を検出し、テクスチャ（表面の質感）の変化も考慮して欠陥を見つける手法
- エッジの強さと方向性を考慮して、はっきりした輪郭を検出
- テクスチャ解析により、表面の質感の変化から欠陥を検出

**処理手順：**
1. **前処理**
   - グレースケール変換：カラー画像をグレースケールに変換
   - ノイズ除去：ガウシアンフィルタでノイズを軽減

2. **Cannyエッジ検出**
   - 輝度の勾配（明るさの変化）を計算
   - エッジの方向を特定
   - 不要なエッジを除去（細線化）
   - 2つの閾値で重要なエッジを選択

3. **テクスチャ検出**
   - 局所的な領域の模様や質感を解析
   - テクスチャの特徴量を計算
   - 正常部分と異なる特徴を持つ領域を検出

4. **欠陥候補の特定**
   - エッジとテクスチャの結果を組み合わせる
   - 欠陥の可能性が高い領域を特定

5. **欠陥部分の切り出し**
   - 検出された領域の周りに余裕を持たせて切り出し
   - 切り出し範囲を矩形で指定

### 2. LoG（Laplacian of Gaussian）フィルタ + 適応的閾値処理

**概要：**
- ガウシアンフィルタでノイズを除去しつつ、ラプラシアンフィルタで輝度の変化を検出
- 様々な大きさの欠陥に対応するため、複数のスケール（大きさ）で検出
- 局所的な明るさの違いに応じて閾値を自動調整

**処理手順：**
1. **前処理**
   - グレースケール変換：カラー画像をグレースケールに変換
   - 初期ノイズ除去：軽いガウシアンフィルタ処理

2. **マルチスケールLoG処理**
   - 異なる大きさのガウシアンフィルタを適用
   - 各スケールでラプラシアン処理（2次微分）を実行
   - 輝度の変化を詳細に検出

3. **適応的閾値処理**
   - 局所的な領域ごとに適切な閾値を計算
   - 周囲の明るさに応じて閾値を調整
   - 欠陥候補領域を2値化（白黒）で表現

4. **欠陥候補の特定**
   - 各スケールの結果を統合
   - 重複した検出を1つにまとめる

5. **欠陥部分の切り出し**
   - 検出された領域を包含する矩形を計算
   - 余裕を持たせて切り出し範囲を設定

### 3. DoG（Difference of Gaussian）フィルタ + 動的閾値処理

**概要：**
- 大きさの異なる2つのガウシアンフィルタの結果の差分から特徴を検出
- 画像全体の統計的な特性を考慮して閾値を自動設定
- 様々な大きさの欠陥に対応可能

**処理手順：**
1. **前処理**
   - グレースケール変換：カラー画像をグレースケールに変換
   - 初期ノイズ除去：軽いガウシアンフィルタ処理

2. **マルチスケールDoG処理**
   - 異なる大きさの2つのガウシアンフィルタを適用
   - 2つのフィルタ結果の差分を計算
   - 複数のスケールで処理を実行

3. **動的閾値処理**
   - 画像全体の平均と標準偏差を計算
   - 統計的な特性に基づいて閾値を設定
   - 欠陥候補領域を2値化（白黒）で表現

4. **欠陥候補の特定**
   - 各スケールの結果を統合
   - 重複した検出を1つにまとめる

5. **欠陥部分の切り出し**
   - 検出された領域を包含する矩形を計算
   - 余裕を持たせて切り出し範囲を設定

### 各手法の特徴的な違い：
1. **欠陥検出の観点**
   - Canny + テクスチャ：エッジとテクスチャの両方を使用
   - LoG：輝度の変化の大きさを詳細に検出
   - DoG：異なるスケールでの輝度変化の差を検出

2. **閾値設定**
   - Canny + テクスチャ：固定の閾値を使用
   - LoG：局所的に適応する閾値を使用
   - DoG：画像全体の統計に基づく動的な閾値を使用

3. **対応可能な欠陥の特徴**
   - Canny + テクスチャ：はっきりしたエッジや表面の変化
   - LoG：様々な大きさの欠陥、不明確なエッジ
   - DoG：大小の欠陥、緩やかな輝度変化
