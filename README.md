Isolation Forestのフローを、ランダムフォレストのフローを参考にして作成しました。専門用語を使用し、可能な限り同じ名称を保持しています。

```
[`データ前処理`]
- 特徴量の設定
- ワークごとのデータ集約
      |
      v
[`特徴空間の準備`]
- 特徴量（X）の抽出
- 異常スコア計算用のデータセット作成
      |
      v
[`アノマリー比率の設定`]
- contamination パラメータの設定
- 予想される異常データの割合の指定
      |
      v
[`モデル構築`]
- Isolation Forest のハイパーパラメータ設定
- モデルの学習と予測の同時実行（fit_predict）
      |
      v
[`異常スコアの算出`]
- 各データポイントの異常度スコアの計算
- 閾値（decision function）の決定
      |
      v
[`モデル評価`]
- 予測ラベルと真のラベルの比較
- 混同行列の作成
- 評価指標の計算（見逃し率、誤検出率、正解率）
- ワークレベルでの予測と評価
      |
      v
[`結果分析`]
- 特徴量と異常スコアの相関分析
- 性能指標の解釈
- モデルの改善点の検討
```

主な違いと説明：

1. `データ分割`: Isolation Forestは教師なし学習のため、訓練データとテストデータの分割は行いません。

2. `クラス不均衡処理`: Isolation Forestはクラスラベルを使用しないため、この段階は不要です。代わりに`アノマリー比率の設定`を行います。

3. `特徴空間の準備`: ランダムフォレストの`データ分割`に相当しますが、目的変数（y）は使用しません。

4. `モデル構築`: `fit_predict`メソッドを使用して、学習と予測を同時に行います。

5. `異常スコアの算出`: Isolation Forest特有の段階で、各データポイントの異常度を計算します。

6. `モデル評価`: 予測結果と真のラベルを比較しますが、これはモデルの性能評価のためであり、学習プロセスには影響しません。

7. `結果分析`: 特徴量の重要度の代わりに、特徴量と異常スコアの相関を分析します。

このフローは、Isolation Forestの教師なし学習としての特性を反映しつつ、可能な限りランダムフォレストのフローと対応づけています。
