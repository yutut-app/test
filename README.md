各手法の説明を、統一された項目で比較します。

### 1. Cannyエッジ検出 + テクスチャ検出

**概要：**
画像から輪郭（エッジ）を検出し、同時に表面のテクスチャ（凹凸や模様）の変化を分析することで、鋳巣（直径0.5mm～2mmの穴状欠陥）の位置を特定する手法です。明確な輪郭を持つ欠陥の検出に適していますが、不明確な輪郭の欠陥は検出が困難です。

**処理手順：**
1. **画像の前処理**
   - 目的：ノイズを除去し、エッジ検出の精度を向上
   - 処理：
     - カラー画像をグレースケールに変換
     - ガウシアンフィルタでノイズを軽減

2. **エッジの検出**
   - 目的：鋳巣の輪郭を検出
   - 処理：
     - 輝度の勾配（明るさの変化）を計算
     - 勾配の大きさと方向を算出
     - 2つの閾値を使用してエッジを抽出

3. **テクスチャの解析**
   - 目的：表面の凹凸や模様の変化を検出
   - 処理：
     - 局所的な領域の輝度パターンを分析
     - テクスチャの変化が大きい領域を特定

4. **欠陥候補の切り出し**
   - 目的：検出された欠陥位置から適切なサイズで画像を切り出し
   - 処理：
     - エッジとテクスチャの検出結果を組み合わせ
     - 検出位置を中心に固定サイズ（欠陥の最大サイズを考慮）の矩形領域を切り出し

### 2. LoG（Laplacian of Gaussian）フィルタ + 適応的閾値処理

**概要：**
画像をぼかしてから2次微分を行うことで、輝度の変化が急激な部分を検出する手法です。異なる大きさの鋳巣に対応するため、複数のスケールで処理を行います。小さな欠陥や不明確な輪郭の欠陥の検出に適しています。

**処理手順：**
1. **画像の前処理**
   - 目的：ノイズを除去し、検出精度を向上
   - 処理：
     - カラー画像をグレースケールに変換
     - 軽度のガウシアンフィルタでノイズを軽減

2. **多重スケール処理**
   - 目的：異なるサイズ（0.5mm～2mm）の鋳巣を検出
   - 処理：
     - 複数の異なるσ値（1～4）でガウシアンフィルタを適用
     - 各スケールでラプラシアン（2次微分）を計算

3. **閾値による欠陥候補の検出**
   - 目的：各スケールでの欠陥候補を特定
   - 処理：
     - 局所的な領域ごとに適応的な閾値を計算
     - 閾値を超える領域を欠陥候補として検出
     - 各スケールの結果を統合

4. **欠陥候補の切り出し**
   - 目的：検出された欠陥位置から適切なサイズで画像を切り出し
   - 処理：
     - 検出された位置を中心に固定サイズの矩形領域を切り出し
     - 切り出しサイズは最大欠陥サイズ（2mm）を考慮

### 3. DoG（Difference of Gaussian）フィルタ + 動的閾値処理

**概要：**
異なる強さでぼかした2つの画像の差分を取ることで、特定のサイズの特徴を強調する手法です。画像全体の特性に基づいて閾値を自動調整することで、様々な条件下での欠陥検出が可能です。

**処理手順：**
1. **画像の前処理**
   - 目的：ノイズを除去し、検出精度を向上
   - 処理：
     - カラー画像をグレースケールに変換
     - 軽度のガウシアンフィルタでノイズを軽減

2. **多重スケール処理**
   - 目的：異なるサイズの鋳巣を検出
   - 処理：
     - 複数の異なるσ値の組み合わせで2つのガウシアンフィルタを適用
     - 2つのぼかし画像の差分を計算

3. **閾値による欠陥候補の検出**
   - 目的：欠陥候補を特定
   - 処理：
     - 画像全体の統計量（平均、標準偏差）を計算
     - 統計量に基づいて動的に閾値を決定
     - 各スケールの結果を統合

4. **欠陥候補の切り出し**
   - 目的：検出された欠陥位置から適切なサイズで画像を切り出し
   - 処理：
     - 検出された位置を中心に固定サイズの矩形領域を切り出し
     - 切り出しサイズは最大欠陥サイズ（2mm）を考慮
