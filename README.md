### 決定事項
- CannyとDoGの組み合わせ手法を優先的に進める (自社・先方)
- モデル確定後、加工面の定義部分と欠陥検出部分を他の面にも適用できる形に改良する (自社・先方)
- 加工面の定義をテンプレートマッチングに変更する方向で検討する (自社・先方)

## ToDo
### 先方
- 各面で精度が担保できる穴の候補（優先順位付き）を提示する
- クランプなどを取り除いたノーマル画像が必要な場合に備えて準備する

### 自社
- 他の面の形状を確認し、テンプレートマッチングによる加工面定義の方法を検討する
- CannyとDoGの組み合わせ手法の実装を行う
- テンプレートマッチングによる加工面定義の具体的な方法を検討する
- 提示された穴の候補を確認し、位置決めに使用可能か評価する

## 議事内容
#### 会議の主題: CB02外観検査-欠陥候補検出の改善検討について

1. 分析案件週次報告 (報告：自社)
   1.1. スケジュール確認

   1.2. 作業タスク確認

   1.3. 進捗報告

      1.3.1. CB02外観検査-欠陥候補検出の改善検討
         - BMP画像での検出可能性を評価
           BMPへの変更による鋳巣検出の改善は見込めず
         - 今後のアプローチ提案
           CannyとDoGの組み合わせ手法を検討

   1.3.2 質疑応答
   - パラメータに関して、現状のH面に対して最適化していると思うが、そのモデルを他の面で仮に実装する場合の工数はどれくらいか？ (先方A)
     → ロジック自体を変えずにH面ごとにパラメータを変更する場合は、パラメータを変えるだけで良いが形状が違うためうまくいくかは不明。現状欠陥を検出する部分(加工部)の定義を二値化で白い部分を欠陥検出部としているが、そこのロジックをテンプレートを使って検出する部分(加工部)を定義することで解決を考えている。その分工数(4~6週間)がかかる (自社A)

   - 現状のロジックを他の面に適用する場合、パラメータを面ごとに変えないと使えないという認識か？ (先方A)
     → 現状はそのとおり。加工面の定義を二値化からテンプレートにすれば、パラメータを変える必要はない (自社A)

   - 欠陥検出の部分のパラメータ調整が必要で、その後の欠陥分類(テンプレートマッチング)は面が違っても同じものが使えるということか？ (先方A)
     → そのとおり (自社A)

   - JPGの圧縮の処理が何らかの影響があったということは、装置によっても結果が変わる可能性があるか？ (先方B)
     → JPG圧縮する機器(装置)によって、その可能性がある (自社A)

   - BMP画像の方がノイズなどの情報が多いのは一般的なものか？一般的にBMPの方がノイズが出てしまうものか？ (先方A)
     → そのとおり。ノイズというより、すべての色彩情報や周波の情報が出てしまう (自社A)
     → BMPの方が現実に近いということか？ (先方A)
     → 実際に現実に近いのはBMPだが、人の目で直接見た画像はJPGのように見える (自社A)
     (補足：BMPは非圧縮形式のため、実際の画像情報をより多く保持している)

   - 今後の方針について、欠陥を検出する部分(加工部)の定義を二値化で決めているが、ここが安定しない可能性もあるということで、テンプレートマッチングに変更する場合の工数はどうなるか？ (先方A)
     → テンプレートに関しては、パラメータ調整は必要ないため、そのロジックがしっかりと適合すればすぐに終わる見込み(6面で1週間程度) (自社A)

   - 欠陥を検出する部分(加工部)を定義する際の懸念として、位置がワークごとにズレる可能性があったが、そこはテンプレートで位置が合うので問題ないという認識か？ (先方A)
     → 形状によっても変わってくるため確認が必要だが、その認識で間違いない。H面に関しては円の部分があるため、円を検出し中心座標を求め、その位置に合わせてテンプレートの白部分を加工面とすることで定義できると考える。ただし、他の面形状を見ていないため、確認後検討する (自社A)
     → 各面で精度が担保している穴はそれぞれあるので、この穴が第一希望第二希望という形で、基準にしてほしい候補を挙げるので確認してほしい (先方A)
     → 承知した (自社A)

   - 欠陥分類のテンプレートの登録について、システム側にどういう形で保存されるのか？ (先方A)
     → テンプレートというフォルダを定義しておき、そのフォルダに手動で切り出した鋳巣画像を入れておけばよい。そのディレクトリをテンプレートとして使用するようにロジックを組んでいる (自社A)

   - 加工面のテンプレートの作成方法について確認したい。綺麗な画像を用意していただけるとのことだが (自社B)
     → まだ加工面のテンプレートの作成方法が検討できていないため、一度検討してお伝えする (自社A)
     → クランプなどを取り除いたノーマル画像が必要な場合は、新しく撮影して準備できるため、必要な際は連絡してほしい (先方A)
     (補足：テンプレート作成には清浄な画像が必要なため、クランプなどの不要な要素を除いた撮影が有効)

   - 今後の方針についてまとめると、CannyとDoGの組み合わせ手法を優先的に進めつつ、他の面でも適用できるようにするという方針で良いか？ (自社B)
     → CannyとDoGの組み合わせ手法を行い、モデルが決まったら加工面の定義部分と欠陥検出部分を他の面にも適応できる形にするように進めてほしい (先方A)
     → 承知した (自社A)

#### 次回打ち合わせ：11/27(木) 10:00~11:00

