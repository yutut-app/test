<処理手順まとめ>
1.レーザースキャンした画像を繋ぎ合わせたTifファイルとする。
2.繋ぎ合わせた画像を30000から40000だけを抽出(2^16の色判別)することで<領域1>と<領域2>を定義する。
3.エッジング処理を行う。
4.全ピクセルに対し151x151(現状)の高さの平均を出す処理を実行
5.平均平面高さと生データの高さの差鋳巣深さを計算し、鋳巣の凹形状を検出する。平均平面高さと生データの高さ(鋳巣深さ)が-20μmの領域を検出し、その領域に内接する縁を描き内径を鋳巣長さとする。鋳巣深さは2^16の色判別で計算(グレースケールで深さを表現:現状は30000(濃いグレー),40000(薄いグレー))。隣接する鋳巣は、現在はクロージング処理で1つとみなしている。
6.鋳巣深さが-50μm以上を検出するとNG候補となる。
[最下部に小さく]
引き続きご指導ご鞭撻のほど、よろしくお願いいたします。
